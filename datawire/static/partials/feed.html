

<div class="row">
    
    <div class="span4" ng-controller="EntityCtrl">
         <div ng-repeat="facet in facets">
            <h3>{{facet.label}}</h3>
            <ul>
                <li ng-repeat="entity in entities[facet.key]">
                    {{entity.text}} (<a href="" ng-click="remove(facet.key, entity.id)">remove</a>)
                </li>
            </ul>
            <form name="form" class="form-inline" ng-submit="create(facet.key)" >
                <input type="text" class="input-medium" ng-model="_new[facet.key]" 
                    required ng-minlength="3" placeholder="{{facet.label}}">
                <!--button type="submit" class="btn" ng-disabled="form.$invalid">Add</button-->
            </form>

        </div>
    </div>

    <div class="span8">
        <div ng-repeat="frame in frames" class="frame">
            <div ng-show="!frame.showRaw">
                <p class='frame-body' ng-bind-html-unsafe="frame.message"></p>
            </div>
            <table ng-show="frame.showRaw" class="table table-condensed table-striped">
                <tr ng-repeat="(key, value) in tableObject(frame.data)">
                    <th>{{key}}</th>
                    <td>{{value}}</td>
                </tr>
            </table>
            <p class='frame-context'>
                <a href="{{frame.service.url}}">{{ frame.service.label }}</a> &middot;
                {{ frame.urn }} &middot;
                <a href="" ng-click="frame.showRaw=true;" ng-show="!frame.showRaw">raw</a>
                <a href="" ng-click="frame.showRaw=false;" ng-show="frame.showRaw">text</a>
            </p>
        </div>
    </div>

</div>